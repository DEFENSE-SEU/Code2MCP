# Foam-Agent

Foam-Agent is a multi-agent system designed to handle complex tasks through collaborative approaches. This project integrates various tools and technology stacks, supporting task automation, data processing, visualization, and integration with GPT models. Foam-Agent's target users include researchers, engineers, and developers, particularly suitable for complex scenarios requiring multi-step collaboration.

---

## Project Overview

### Features and Characteristics
- **Multi-Agent Collaboration**: The system consists of multiple specialized agents (such as Architect Agent, Meshing Agent, Reviewer Agent, etc.), each responsible for specific subtasks.
- **Knowledge Base System**: Provides a knowledge base for storing and retrieving task-related data.
- **Data Processing and Visualization**: Supports data extraction, processing, and visualization, helping users understand and analyze complex datasets.
- **Automated Workflows**: Achieves automated task processing through multi-agent collaboration, reducing manual intervention.
- **FoamGPT Data Pipeline**: Utilizes GPT models for data processing and generation, supporting natural language processing (NLP) tasks.

### Core Modules
- **Architect Agent**: Responsible for overall task planning and allocation.
- **Meshing Agent**: Handles mesh generation or data structure-related tasks.
- **Input Writer Agent**: Responsible for input data preparation and formatting.
- **Local Runner Agent**: Executes local tasks.
- **Reviewer Agent**: Checks the quality of task results.
- **Visualization Agent**: Generates visualization outputs for task results.
- **FoamGPT Integration**: Supports OpenAI and Hugging Face GPT models for data generation and processing.

---

## Installation Instructions

### System Requirements
- **Operating System**: Linux, macOS, or Windows
- **Python Version**: 3.8 or higher
- **Dependencies**:
  - Required: `numpy`, `pandas`, `matplotlib`, `faiss`, `openai`, `transformers`, `pyyaml`
  - Optional: `plotly`, `seaborn`, `docker`

### Installation Steps
1. **Clone Repository**
   ```bash
   git clone https://github.com/csml-rpi/Foam-Agent.git
   cd Foam-Agent
   ```

2. **Create Virtual Environment**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/macOS
   venv\Scripts\activate     # Windows
   ```

3. **Install Dependencies**
   If using `conda`:
   ```bash
   conda env create -f environment.yml
   conda activate foam-agent
   ```
   If using `pip`:
   ```bash
   pip install -r requirements.txt
   ```

4. **Verify Installation**
   ```bash
   python foambench_main.py --help
   ```

---

## Usage Instructions

### Starting the Main Program
Run the following command to start the Foam-Agent system:
```bash
python foambench_main.py
```

### Example Use Cases
1. **Run Single Task**
   ```bash
   python foambench_main.py --task single --config config.yaml
   ```
2. **Run Batch Tasks**
   ```bash
   python foambench_main.py --task batch --config batch_config.yaml
   ```

### Configuration Files
Foam-Agent uses YAML files for configuration. Here is an example configuration file:
```yaml
task:
  name: "example_task"
  agents:
    - architect
    - meshing
    - reviewer
output:
  directory: "./results"
  format: "json"
```

Save the configuration file as `config.yaml` and specify it via the `--config` parameter during runtime.

---

## Available Tool Endpoints

The following are the main tool endpoints provided by Foam-Agent:

### Core Modules
- **Architect Agent**: Responsible for overall task planning and allocation.
- **Meshing Agent**: Handles mesh generation or data structure-related tasks.
- **Input Writer Agent**: Responsible for input data preparation and formatting.
- **Local Runner Agent**: Executes local tasks.
- **Reviewer Agent**: Checks the quality of task results.
- **Visualization Agent**: Generates visualization outputs for task results.

### Data Processing Modules
- **FoamGPT Data Pipeline**:
  - `foamgpt_data`: Manages data loading and saving related to FoamGPT.
  - `foamgpt_gen`: Uses GPT models to generate Foam-related outputs.
  - `foamgpt_huggingface`: Integrates Hugging Face models.
  - `foamgpt_openai`: Integrates OpenAI GPT models.
  - `foamgpt_parser`: Parses the output generated by FoamGPT.

### FAISS Tools
- `faiss_allrun_scripts`: Runs scripts related to FAISS indexing.
- `faiss_command_help`: Provides help information for FAISS commands.
- `faiss_tutorials_details`: Gets detailed information about FAISS tutorials.
- `faiss_tutorials_structure`: Gets structural information about FAISS tutorials.
- `tutorial_parser`: Parses tutorial content.

---

## Notes

1. **Environment Configuration**:
   - Ensure that all required dependencies are installed in the Python environment.
   - If using GPU, ensure that CUDA and related drivers are installed correctly.

2. **Configuration Files**:
   - Paths in configuration files should be absolute or relative to the project root directory.
   - Ensure that the configuration file format is correct, otherwise it may cause parsing errors.

3. **Network Connection**:
   - If using OpenAI or Hugging Face GPT models, ensure that the network connection is normal and the API key is configured.

---

## Troubleshooting

### Common Issues and Solutions

#### 1. **Dependency Installation Failed**
- **Issue**: Error occurred during dependency installation.
- **Solution**:
  - Ensure that the Python version is 3.8 or higher.
  - Use `pip install --upgrade pip` to update pip.
  - If the problem persists, try using `conda` to install dependencies.

#### 2. **Foam-Agent Cannot Start**
- **Issue**: Error occurred when running `foambench_main.py`.
- **Solution**:
  - Check if the configuration file is correct.
  - Use the `--help` parameter to view available options.
  - Ensure that all dependencies are installed correctly.

#### 3. **Task Execution Failed**
- **Issue**: Task execution interrupted or results are incorrect.
- **Solution**:
  - Check if the input data format is correct.
  - View the log file for detailed error information.
  - Ensure that the agent module configuration is correct.

#### 4. **FoamGPT Model Loading Failed**
- **Issue**: Cannot load GPT model.
- **Solution**:
  - Check if the network connection is normal.
  - Ensure that OpenAI or Hugging Face API keys are configured.
  - Ensure that `transformers` and `openai` libraries are installed.

---

## Contributing

Welcome to contribute to the Foam-Agent project! You can participate in the following ways:
- Submit issue reports or feature requests.
- Submit code improvements or new features.
- Submit documentation improvements.

Please read [CONTRIBUTING.md](CONTRIBUTING.md) for more contribution guidelines.

---

## License

Foam-Agent follows the [MIT License](LICENSE). You are free to use, modify, and distribute this project, but you must retain the original license statement.

---

## Contact

If you have any questions or suggestions, please contact us via the following methods:
- **GitHub Issues**: [Submit Issues](https://github.com/csml-rpi/Foam-Agent/issues)
- **Email**: support@foam-agent.com

Thank you for using Foam-Agent!